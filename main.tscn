[gd_scene load_steps=10 format=4 uid="uid://p5awsdsi1kea"]

[ext_resource type="TileSet" uid="uid://db4yk56aryubd" path="res://resources/world.TileSet.tres" id="2_dcctc"]
[ext_resource type="PackedScene" uid="uid://cj8ksno35aduj" path="res://scenes/player.tscn" id="2_l8qed"]
[ext_resource type="Script" path="res://scripts/WorldTileMapLayer.gd" id="2_sh2ir"]
[ext_resource type="Resource" uid="uid://coud2jncat4dk" path="res://resources/default.ItemRegistry.tres" id="3_iqjcs"]
[ext_resource type="Resource" uid="uid://jjgw2g514cgo" path="res://resources/default.EntityRegistry.tres" id="4_1x7m5"]
[ext_resource type="TileSet" uid="uid://1c8jqy2iqanc" path="res://resources/floors.TileSet.tres" id="4_c6igf"]
[ext_resource type="Script" path="res://scripts/FloorTileMapLayer.gd" id="4_iydee"]
[ext_resource type="Script" path="res://scripts/hover_highlight.gd" id="4_lmn7l"]
[ext_resource type="PackedScene" uid="uid://cdhfd37vrxpuw" path="res://scenes/ui/UI.tscn" id="5_p1ybt"]

[node name="Main" type="Node"]

[node name="World" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Walls" type="TileMapLayer" parent="World" groups=["terrain"]]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD//wAAAQAAAAAAAgD+/wEAAQAAAAAABQA=")
tile_set = ExtResource("2_dcctc")
navigation_enabled = false
script = ExtResource("2_sh2ir")
item_registry = ExtResource("3_iqjcs")
entity_registry = ExtResource("4_1x7m5")

[node name="HoverHighlight" type="Node2D" parent="World/Walls"]
script = ExtResource("4_lmn7l")

[node name="Outline" type="Line2D" parent="World/Walls/HoverHighlight"]
closed = true
width = 2.0
default_color = Color(1, 1, 1, 0.717647)

[node name="Player" parent="World" instance=ExtResource("2_l8qed")]
position = Vector2(0, 16)

[node name="Camera2D" type="Camera2D" parent="World/Player"]
zoom = Vector2(4, 4)

[node name="Floors" type="TileMapLayer" parent="World"]
z_index = -100
tile_map_data = PackedByteArray("AAD8//3/AAAAAAIAAAD8//7/AAAAAAIAAAD8////AAAAAAIAAAD8/wAAAAAAAAIAAAD8/wEAAAAAAAIAAAD8/wIAAAAAAAIAAAD8/wMAAAAAAAIAAAD8/wQAAAAAAAIAAAD8/wUAAAAAAAIAAAD9//3/AAAAAAIAAAD9//7/AAAAAAIAAAD9////AAAAAAIAAAD9/wAAAAAAAAIAAAD9/wEAAAAAAAIAAAD9/wIAAAAAAAIAAAD9/wMAAAAAAAIAAAD9/wQAAAAAAAIAAAD9/wUAAAAAAAIAAAD+//3/AAAAAAIAAAD+//7/AAAAAAIAAAD+////AAAAAAIAAAD+/wAAAAAAAAIAAAD+/wEAAAAAAAIAAAD+/wIAAAAAAAIAAAD+/wMAAAAAAAIAAAD+/wQAAAAAAAIAAAD+/wUAAAAAAAIAAAD///3/AAAAAAIAAAD///7/AAAAAAIAAAD/////AAAAAAIAAAD//wAAAAAAAAIAAAD//wEAAAAAAAIAAAD//wIAAAAAAAIAAAD//wMAAAAAAAIAAAD//wQAAAAAAAIAAAD//wUAAAAAAAIAAAAAAP3/AAAAAAIAAAAAAP7/AAAAAAIAAAAAAP//AAAAAAIAAAAAAAAAAAAAAAIAAAAAAAEAAAAAAAIAAAAAAAIAAAAAAAIAAAAAAAMAAAAAAAIAAAAAAAQAAAAAAAIAAAAAAAUAAAAAAAIAAAABAP3/AAAAAAIAAAABAP7/AAAAAAIAAAABAP//AAAAAAIAAAABAAAAAAAAAAIAAAABAAEAAAAAAAIAAAABAAIAAAAAAAIAAAABAAMAAAAAAAIAAAABAAQAAAAAAAIAAAABAAUAAAAAAAIAAAACAP3/AAAAAAIAAAACAP7/AAAAAAIAAAACAP//AAAAAAIAAAACAAAAAAAAAAIAAAACAAEAAAAAAAIAAAACAAIAAAAAAAIAAAACAAMAAAAAAAIAAAACAAQAAAAAAAIAAAACAAUAAAAAAAIAAAADAP3/AAAAAAIAAAADAP7/AAAAAAIAAAADAP//AAAAAAIAAAADAAAAAAAAAAIAAAADAAEAAAAAAAIAAAADAAIAAAAAAAIAAAADAAMAAAAAAAIAAAADAAQAAAAAAAIAAAADAAUAAAAAAAIAAAAEAP3/AAAAAAIAAAAEAP7/AAAAAAIAAAAEAP//AAAAAAIAAAAEAAAAAAAAAAIAAAAEAAEAAAAAAAIAAAAEAAIAAAAAAAIAAAAEAAMAAAAAAAIAAAAEAAQAAAAAAAIAAAAEAAUAAAAAAAIAAAA=")
tile_set = ExtResource("4_c6igf")
collision_enabled = false
navigation_enabled = false
script = ExtResource("4_iydee")
floor_tileset_coords = Vector2i(0, 2)

[node name="UI" parent="." instance=ExtResource("5_p1ybt")]

[connection signal="fuel_changed" from="World/Walls/GerbilGenerator" to="World/Walls/GerbilGenerator" method="on_fuel_changed" unbinds=1]
[connection signal="iron_changed" from="World/Walls/ThePortal" to="World/Walls/ThePortal" method="on_energy_changed" unbinds=1]
